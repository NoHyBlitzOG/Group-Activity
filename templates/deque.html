{% extends "template.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/deque.css') }}">
{% endblock %}

{% block body %}
<div id="content">
    <h1>Deque</h1>
    {% if message %}
    <p class="deque-message">
        {{ message }}
    </p>
    {% endif %}
    <form method="POST" action="{{ url_for('deque') }}" class="deque-form">
        <input type="text" name="item" placeholder="Enter value" class="deque-input">
        <div class="deque-actions">
            <button type="submit" name="action" value="add_front" class="action-btn front-add">Add Front</button>
            <button type="submit" name="action" value="add_rear" class="action-btn rear-add">Add Rear</button>
            <button type="submit" name="action" value="remove_front" class="action-btn front-remove">Remove Front</button>
            <button type="submit" name="action" value="remove_rear" class="action-btn rear-remove">Remove Rear</button>
        </div>
    </form>
    <h2 class="deque-title">Deque Contents</h2>
    <div class="deque-items-display">
        {% if items %}
            <div class="deque-items-row">
                {% for item in items %}
                    <div class="deque-item-box
                        {% if loop.first %} front{% endif %}
                        {% if loop.last %} rear{% endif %}">
                        {{ item }}
                        {% if loop.first %}
                            <div class="deque-label">FRONT</div>
                        {% endif %}
                        {% if loop.last %}
                            <div class="deque-label">REAR</div>
                        {% endif %}
                    </div>
                    {% if not loop.last %}
                        <span class="deque-arrow">&#8594;</span>
                    {% endif %}
                {% endfor %}
            </div>
        {% else %}
            <p class="deque-empty-msg">Deque is empty.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
